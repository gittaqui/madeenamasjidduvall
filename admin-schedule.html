<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Schedule Admin â€” Madeena Masjid Duvall</title>
  <meta name="robots" content="noindex, nofollow">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/theme.css" rel="stylesheet">
</head>
<body class="p-3 p-md-4">
  <div class="container">
    <h1 class="mb-3">Prayer Times Editor</h1>
  <p class="text-secondary">Update a month override or apply a schedule to a date range, then save changes.</p>

    <div class="alert alert-info">
      Tip: Editing happens locally. "Save to Server" uploads (admin only). "Fetch from Server" loads the live copy if deployed.
    </div>

    <div class="mb-3 d-flex flex-wrap gap-2 align-items-center">
      <div class="d-flex align-items-center gap-2">
        <label for="month" class="form-label mb-0">Month</label>
        <input type="text" id="month" class="form-control max-w-220" inputmode="numeric" pattern="\d{4}-\d{2}" placeholder="YYYY-MM" title="Enter month as YYYY-MM">
        <button class="btn btn-outline-primary" id="btn-use-defaults" title="Fill month fields from defaults">Fill month from defaults</button>
      </div>
      <div class="d-flex align-items-center gap-2">
        <label for="range-start" class="form-label mb-0">From</label>
        <input type="date" id="range-start" class="form-control max-w-220" title="Start date">
        <label for="range-end" class="form-label mb-0">To</label>
        <input type="date" id="range-end" class="form-control max-w-220" title="End date">
  <button class="btn btn-sm btn-outline-secondary" id="btn-range-prev-month" title="Set range to previous month">Prev Month</button>
  <button class="btn btn-sm btn-outline-secondary" id="btn-range-this-month" title="Set range to this month">This Month</button>
  <button class="btn btn-sm btn-outline-secondary" id="btn-range-next-month" title="Set range to next month">Next Month</button>
  <label for="preset-month" class="form-label mb-0 ms-2">Pick</label>
  <input type="text" id="preset-month" class="form-control max-w-220" inputmode="numeric" pattern="\d{4}-\d{2}" placeholder="YYYY-MM" title="Select month (YYYY-MM)">
  <button class="btn btn-sm btn-outline-primary" id="btn-range-set-month" title="Set range to selected month">Set Range</button>
      </div>
  <button class="btn btn-outline-secondary" id="btn-load-json">Import prayer-times.json</button>
  <button class="btn btn-outline-primary" id="btn-fetch-server" title="Fetch current server copy (read-only)">Fetch from Server</button>
      <input type="file" id="file-input" accept="application/json" hidden>
    </div>

    <div class="row g-4">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">Override for Selected Month</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-6"><label class="form-label" for="ov-sunrise">Sunrise</label><input class="form-control" id="ov-sunrise" placeholder="06:50 AM" title="Sunrise"></div>
              <div class="col-6"><label class="form-label" for="ov-note">Note</label><input class="form-control" id="ov-note" placeholder="Optional note" title="Note"></div>
              <div class="col-4"><label class="form-label" for="ov-adhan-fajr">Fajr Adhan</label><input class="form-control" id="ov-adhan-fajr" placeholder="05:26 AM" title="Fajr Adhan"></div>
              <div class="col-4"><label class="form-label" for="ov-adhan-dhuhr">Dhuhr Adhan</label><input class="form-control" id="ov-adhan-dhuhr" placeholder="01:03 PM" title="Dhuhr Adhan"></div>
              <div class="col-4"><label class="form-label" for="ov-adhan-asr">Asr Adhan</label><input class="form-control" id="ov-adhan-asr" placeholder="04:29 PM" title="Asr Adhan"></div>
              <div class="col-4"><label class="form-label" for="ov-adhan-asrHanafi">Asr Hanafi Adhan</label><input class="form-control" id="ov-adhan-asrHanafi" placeholder="05:21 PM" title="Asr Hanafi Adhan"></div>
              <div class="col-4"><label class="form-label" for="ov-adhan-maghrib">Maghrib Adhan</label><input class="form-control" id="ov-adhan-maghrib" placeholder="07:15 PM" title="Maghrib Adhan"></div>
              <div class="col-4"><label class="form-label" for="ov-adhan-isha">Isha Adhan</label><input class="form-control" id="ov-adhan-isha" placeholder="08:44 PM" title="Isha Adhan"></div>
              <div class="col-4"><label class="form-label" for="ov-iqamah-fajr">Fajr Iqamah</label><input class="form-control" id="ov-iqamah-fajr" placeholder="06:15 AM" title="Fajr Iqamah"></div>
              <div class="col-4"><label class="form-label" for="ov-iqamah-dhuhr">Dhuhr Iqamah</label><input class="form-control" id="ov-iqamah-dhuhr" placeholder="01:40 PM" title="Dhuhr Iqamah"></div>
              <div class="col-4"><label class="form-label" for="ov-iqamah-asr">Asr Iqamah</label><input class="form-control" id="ov-iqamah-asr" placeholder="06:00 PM" title="Asr Iqamah"></div>
              <div class="col-4"><label class="form-label" for="ov-iqamah-asrHanafi">Asr Hanafi Iqamah</label><input class="form-control" id="ov-iqamah-asrHanafi" placeholder="06:00 PM" title="Asr Hanafi Iqamah"></div>
              <div class="col-4"><label class="form-label" for="ov-iqamah-maghrib">Maghrib Iqamah</label><input class="form-control" id="ov-iqamah-maghrib" placeholder="07:18 PM" title="Maghrib Iqamah"></div>
              <div class="col-4"><label class="form-label" for="ov-iqamah-isha">Isha Iqamah</label><input class="form-control" id="ov-iqamah-isha" placeholder="09:00 PM" title="Isha Iqamah"></div>
            </div>
            <div class="mt-3">
              <label class="form-label">Jumu'ah Sessions</label>
              <div id="ov-jumuah" class="vstack gap-2"></div>
              <button class="btn btn-sm btn-outline-primary mt-2" id="ov-add-jumuah">Add Jumu'ah</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row g-4 mt-1">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">Update Schedule for Date Range</div>
          <div class="card-body">
            <p class="small text-secondary">Set a start/end date above (same day allowed), fill times below, then click Apply to Range.</p>
            <div class="row g-3">
              <div class="col-6"><label class="form-label" for="rg-sunrise">Sunrise</label><input class="form-control" id="rg-sunrise" placeholder="06:50 AM" title="Sunrise"></div>
              <div class="col-6"><label class="form-label" for="rg-note">Note</label><input class="form-control" id="rg-note" placeholder="Optional note" title="Note"></div>
              <div class="col-4"><label class="form-label" for="rg-adhan-fajr">Fajr Adhan</label><input class="form-control" id="rg-adhan-fajr" placeholder="05:26 AM" title="Fajr Adhan"></div>
              <div class="col-4"><label class="form-label" for="rg-adhan-dhuhr">Dhuhr Adhan</label><input class="form-control" id="rg-adhan-dhuhr" placeholder="01:03 PM" title="Dhuhr Adhan"></div>
              <div class="col-4"><label class="form-label" for="rg-adhan-asr">Asr Adhan</label><input class="form-control" id="rg-adhan-asr" placeholder="04:29 PM" title="Asr Adhan"></div>
              <div class="col-4"><label class="form-label" for="rg-adhan-asrHanafi">Asr Hanafi Adhan</label><input class="form-control" id="rg-adhan-asrHanafi" placeholder="05:21 PM" title="Asr Hanafi Adhan"></div>
              <div class="col-4"><label class="form-label" for="rg-adhan-maghrib">Maghrib Adhan</label><input class="form-control" id="rg-adhan-maghrib" placeholder="07:15 PM" title="Maghrib Adhan"></div>
              <div class="col-4"><label class="form-label" for="rg-adhan-isha">Isha Adhan</label><input class="form-control" id="rg-adhan-isha" placeholder="08:44 PM" title="Isha Adhan"></div>
              <div class="col-4"><label class="form-label" for="rg-iqamah-fajr">Fajr Iqamah</label><input class="form-control" id="rg-iqamah-fajr" placeholder="06:15 AM" title="Fajr Iqamah"></div>
              <div class="col-4"><label class="form-label" for="rg-iqamah-dhuhr">Dhuhr Iqamah</label><input class="form-control" id="rg-iqamah-dhuhr" placeholder="01:40 PM" title="Dhuhr Iqamah"></div>
              <div class="col-4"><label class="form-label" for="rg-iqamah-asr">Asr Iqamah</label><input class="form-control" id="rg-iqamah-asr" placeholder="06:00 PM" title="Asr Iqamah"></div>
              <div class="col-4"><label class="form-label" for="rg-iqamah-asrHanafi">Asr Hanafi Iqamah</label><input class="form-control" id="rg-iqamah-asrHanafi" placeholder="06:00 PM" title="Asr Hanafi Iqamah"></div>
              <div class="col-4"><label class="form-label" for="rg-iqamah-maghrib">Maghrib Iqamah</label><input class="form-control" id="rg-iqamah-maghrib" placeholder="07:18 PM" title="Maghrib Iqamah"></div>
              <div class="col-4"><label class="form-label" for="rg-iqamah-isha">Isha Iqamah</label><input class="form-control" id="rg-iqamah-isha" placeholder="09:00 PM" title="Isha Iqamah"></div>
            </div>
            <div class="mt-3">
              <label class="form-label">Jumu'ah Sessions</label>
              <div id="rg-jumuah" class="vstack gap-2"></div>
              <button class="btn btn-sm btn-outline-primary mt-2" id="rg-add-jumuah">Add Jumu'ah</button>
              <button class="btn btn-sm btn-success mt-2" id="btn-apply-range" title="Apply to all dates between From and To (inclusive)">Apply to Range</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="d-flex gap-2 mt-4">
  <button class="btn btn-primary" id="btn-download">Download JSON</button>
  <button class="btn btn-success" id="btn-save-server" title="Save to server (requires admin auth)">Save to Server</button>
      <button class="btn btn-outline-secondary" id="btn-reset">Reset</button>
    </div>
  </div>

  <script src="js/schedule-admin.js"></script>
</body>
</html>
