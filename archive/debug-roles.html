<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Role Debug</title>
<style>body{font-family:Arial;margin:1rem;}pre{background:#111;color:#0f0;padding:1rem;white-space:pre-wrap;word-break:break-all;}code{color:#0f0}</style>
</head>
<body>
<h1>Auth / Role Debug</h1>
<button id="refresh">Refresh</button>
<h2>/.auth/me</h2>
<pre id="authme">Loading…</pre>
<h2>/api/me</h2>
<pre id="apime">Loading…</pre>
<script>
async function load(){
  try{const r=await fetch('/.auth/me',{credentials:'include',cache:'no-store'});document.getElementById('authme').textContent=await r.text();}catch(e){document.getElementById('authme').textContent='ERR '+e}
  try{const r=await fetch('/api/me',{credentials:'include',cache:'no-store'});document.getElementById('apime').textContent=await r.text();}catch(e){document.getElementById('apime').textContent='ERR '+e}
}
load();
refresh.onclick=load;
</script>
</body>
</html>
