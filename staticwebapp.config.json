{
  "routes": [
  { "route": "/admin-schedule.html", "allowedRoles": ["authenticated"] },
  { "route": "/admin-rsvps.html", "allowedRoles": ["admin"] },
  { "route": "/admin-subscribers.html", "allowedRoles": ["admin"] },
  { "route": "/admin-events.html", "allowedRoles": ["admin"] },
  { "route": "/debug-roles.html", "allowedRoles": ["anonymous"] },
  { "route": "/api/rsvps", "methods": ["GET", "DELETE"], "allowedRoles": ["admin"] },
    { "route": "/api/subscribers", "methods": ["GET", "POST", "DELETE"], "allowedRoles": ["admin"] },
  { "route": "/api/synthetic-events", "methods": ["GET", "POST", "DELETE"], "allowedRoles": ["admin"] },
  { "route": "/api/events", "methods": ["GET", "POST", "PUT", "DELETE"], "allowedRoles": ["admin"] },
  { "route": "/api/cleanup-pending", "methods": ["GET", "POST"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-tables", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-tables-key", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-storage-full", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-authmode", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-events-table", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-table-selftest", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-mi-storage", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-auth-guard", "methods": ["GET"], "allowedRoles": ["admin"] },
  { "route": "/api/diag-env-storage", "methods": ["GET"], "allowedRoles": ["admin"] },
    { "route": "/api/prayer-times", "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/api/prayer-times", "methods": ["POST"], "allowedRoles": ["admin"] },
    { "route": "/api/prayer-times", "methods": ["OPTIONS"], "allowedRoles": ["anonymous"] },
    { "route": "/api/me", "methods": ["GET"], "allowedRoles": ["anonymous"] }
  ],
  "navigationFallback": { "rewrite": "/index.html", "exclude": ["/api/*", "/assets/*", "/lib/*"] },
  "responseOverrides": {
    "401": {
      "redirect": "/.auth/login/aad?post_login_redirect_uri=/admin-schedule.html",
      "statusCode": 302
    }
  },
  "globalHeaders": {
    "X-Content-Type-Options": "nosniff",
    "Referrer-Policy": "no-referrer",
    "Permissions-Policy": "geolocation=()",
    "Strict-Transport-Security": "max-age=31536000; includeSubDomains"
  }
}